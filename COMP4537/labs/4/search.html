<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search page</title>
</head>
<body>

    <h2>Search</h2>
    <label for="searchForInput"></label>
    <input type="text" id="searchForInput" placeholder="Enter a word to search">

    <br>

    <button onclick="getAll()">Search me!</button>
    <!-- <button onclick="searchForDef()">Search me!</button> -->

    <div id="results">
        
    </div>

    <script>
        async function getAll(){
            const word  = document.getElementById('searchForInput').value
            
            fetch(`https://shiny-cyan-dungarees.cyclic.app/api/definitions/?word=${word}`, {
                method: "GET"
            })
                .then(res => res.json())
                // once it works change the json to json[word]
                // rid console for document.getelementbyID('results').innerHTML = json[word] <- this is ajax
                .then(json => {
                    if (json.error){
                    document.getElementById('results').innerText = `${json.response}: ${word} not found`
                } else {
                    document.getElementById('results').innerText = `${json.response}: Defintion: ${json.word_object.word_def}`
                }

                    }
                )        

        } 
    </script>
    
</body>
</html>

